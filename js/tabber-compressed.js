function tabberObj(B){var A;this.div=null;this.classMain="tabber";this.classMainLive="tabberlive";this.classTab="tabbertab";this.classTabDefault="tabbertabdefault";this.classNav="tabbernav";this.classTabHide="tabbertabhide";this.classNavActive="tabberactive";this.titleElements=["h2","h3","h4","h5","h6"];this.titleElementsStripHTML=true;this.removeTitle=true;this.addLinkId=false;this.linkIdFormat="<tabberid>nav<tabnumberone>";for(A in B){this[A]=B[A]}this.REclassMain=new RegExp("\\b"+this.classMain+"\\b","gi");this.REclassMainLive=new RegExp("\\b"+this.classMainLive+"\\b","gi");this.REclassTab=new RegExp("\\b"+this.classTab+"\\b","gi");this.REclassTabDefault=new RegExp("\\b"+this.classTabDefault+"\\b","gi");this.REclassTabHide=new RegExp("\\b"+this.classTabHide+"\\b","gi");this.tabs=new Array();if(this.div){this.init(this.div);this.div=null}}tabberObj.prototype.init=function(E){var H,D,B,J,F=0,K,A,I,C,G;if(!document.getElementsByTagName){return false}if(E.id){this.id=E.id}this.tabs.length=0;H=E.childNodes;for(D=0;D<H.length;D++){if(H[D].className&&H[D].className.match(this.REclassTab)){J=new Object();J.div=H[D];this.tabs[this.tabs.length]=J;if(H[D].className.match(this.REclassTabDefault)){F=this.tabs.length-1}}}K=document.createElement("ul");K.className=this.classNav;for(D=0;D<this.tabs.length;D++){J=this.tabs[D];J.headingText=J.div.title;if(this.removeTitle){J.div.title=""}if(!J.headingText){for(B=0;B<this.titleElements.length;B++){G=J.div.getElementsByTagName(this.titleElements[B])[0];if(G){J.headingText=G.innerHTML;if(this.titleElementsStripHTML){J.headingText.replace(/<br>/gi," ");J.headingText=J.headingText.replace(/<[^>]+>/g,"")}break}}}if(!J.headingText){J.headingText=D+1}A=document.createElement("li");J.li=A;I=document.createElement("a");I.appendChild(document.createTextNode(J.headingText));I.href="javascript:void(null);";I.title=J.headingText;I.onclick=this.navClick;I.tabber=this;I.tabberIndex=D;if(this.addLinkId&&this.linkIdFormat){C=this.linkIdFormat;C=C.replace(/<tabberid>/gi,this.id);C=C.replace(/<tabnumberzero>/gi,D);C=C.replace(/<tabnumberone>/gi,D+1);C=C.replace(/<tabtitle>/gi,J.headingText.replace(/[^a-zA-Z0-9\-]/gi,""));I.id=C}A.appendChild(I);K.appendChild(A)}E.insertBefore(K,E.firstChild);E.className=E.className.replace(this.REclassMain,this.classMainLive);this.tabShow(F);if(typeof this.onLoad=="function"){this.onLoad({tabber:this})}return this};tabberObj.prototype.navClick=function(F){var C,A,B,E,D;A=this;if(!A.tabber){return false}B=A.tabber;E=A.tabberIndex;A.blur();if(typeof B.onClick=="function"){D={tabber:B,index:E,event:F};if(!F){D.event=window.event}C=B.onClick(D);if(C===false){return false}}B.tabShow(E);return false};tabberObj.prototype.tabHideAll=function(){var A;for(A=0;A<this.tabs.length;A++){this.tabHide(A)}};tabberObj.prototype.tabHide=function(A){var B;if(!this.tabs[A]){return false}B=this.tabs[A].div;if(!B.className.match(this.REclassTabHide)){B.className+=" "+this.classTabHide}this.navClearActive(A);return this};tabberObj.prototype.tabShow=function(A){var B;if(!this.tabs[A]){return false}this.tabHideAll();B=this.tabs[A].div;B.className=B.className.replace(this.REclassTabHide,"");this.navSetActive(A);if(typeof this.onTabDisplay=="function"){this.onTabDisplay({tabber:this,index:A})}return this};tabberObj.prototype.navSetActive=function(A){this.tabs[A].li.className=this.classNavActive;return this};tabberObj.prototype.navClearActive=function(A){this.tabs[A].li.className="";return this};function tabberAutomatic(D){var A,C,B;if(!D){D={}}A=new tabberObj(D);C=document.getElementsByTagName("div");for(B=0;B<C.length;B++){if(C[B].className&&C[B].className.match(A.REclassMain)){D.div=C[B];C[B].tabber=new tabberObj(D)}}return this}function tabberAutomaticOnLoad(B){var A;if(!B){B={}}A=window.onload;if(typeof window.onload!="function"){window.onload=function(){tabberAutomatic(B)}}else{window.onload=function(){A();tabberAutomatic(B)}}}if(typeof tabberOptions=="undefined"){tabberAutomaticOnLoad()}else{if(!tabberOptions.manualStartup){tabberAutomaticOnLoad(tabberOptions)}};